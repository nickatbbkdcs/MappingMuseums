<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mapping Museums webapp: /home/nlarsson/bbk/python/webdev/museumflask/app/main/apputils.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mapping Museums webapp
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('apputils_8py.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">apputils.py File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module implements : 1.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a965ccb2fb5539f85fd30953516f34153"><td class="memItemLeft" align="right" valign="top"><a id="a965ccb2fb5539f85fd30953516f34153"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a965ccb2fb5539f85fd30953516f34153">app.main.apputils.rotate</a> (l, n)</td></tr>
<tr class="memdesc:a965ccb2fb5539f85fd30953516f34153"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Small set of functions to change the appearance of names (strings) <br /></td></tr>
<tr class="separator:a965ccb2fb5539f85fd30953516f34153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bfeb06651b70211f731c00b43d541b0"><td class="memItemLeft" align="right" valign="top"><a id="a6bfeb06651b70211f731c00b43d541b0"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.snake2camel</b> (name)</td></tr>
<tr class="separator:a6bfeb06651b70211f731c00b43d541b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4afaa18d754f234165ae5d291feb15"><td class="memItemLeft" align="right" valign="top"><a id="ada4afaa18d754f234165ae5d291feb15"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.snake2camelback</b> (name)</td></tr>
<tr class="separator:ada4afaa18d754f234165ae5d291feb15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a551acda6763aa89c807cf96042acf4b4"><td class="memItemLeft" align="right" valign="top"><a id="a551acda6763aa89c807cf96042acf4b4"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.camel2snake</b> (name)</td></tr>
<tr class="separator:a551acda6763aa89c807cf96042acf4b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1112ebc12b6fff5f7a85d8e0cad48b27"><td class="memItemLeft" align="right" valign="top"><a id="a1112ebc12b6fff5f7a85d8e0cad48b27"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.camelback2snake</b> (name)</td></tr>
<tr class="separator:a1112ebc12b6fff5f7a85d8e0cad48b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51b9b90e79e7177f87d2bb4bc32504ba"><td class="memItemLeft" align="right" valign="top"><a id="a51b9b90e79e7177f87d2bb4bc32504ba"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a51b9b90e79e7177f87d2bb4bc32504ba">app.main.apputils.readONSPCRepo</a> (fname, lafname, postcode2_county_dict, postcode2_country_dict, postcode2_la_dict, postcode2_region_dict, county2_region_dict, la2_county_dict, la2_region_dict, la_translation_dict, reverse_la_translation_dict)</td></tr>
<tr class="memdesc:a51b9b90e79e7177f87d2bb4bc32504ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose: Reads the ONS csv data creates all dictionaries needed for processing Arguments:  name of ons file  local authority definition file         . <br /></td></tr>
<tr class="separator:a51b9b90e79e7177f87d2bb4bc32504ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26d1beaec54c0632a0b603a8bb1a9ba9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a26d1beaec54c0632a0b603a8bb1a9ba9">app.main.apputils.readNames</a> (fname)</td></tr>
<tr class="memdesc:a26d1beaec54c0632a0b603a8bb1a9ba9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose: Reads district and county names.  <a href="apputils_8py.html#a26d1beaec54c0632a0b603a8bb1a9ba9">More...</a><br /></td></tr>
<tr class="separator:a26d1beaec54c0632a0b603a8bb1a9ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72c2a9fc4b8c4b0b21c5c2c358eb5b3e"><td class="memItemLeft" align="right" valign="top"><a id="a72c2a9fc4b8c4b0b21c5c2c358eb5b3e"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a72c2a9fc4b8c4b0b21c5c2c358eb5b3e">app.main.apputils.readAdminData</a> ()</td></tr>
<tr class="memdesc:a72c2a9fc4b8c4b0b21c5c2c358eb5b3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Sets up reading of the ONS data Arguments: <br /></td></tr>
<tr class="separator:a72c2a9fc4b8c4b0b21c5c2c358eb5b3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b57a30a8b9a67d46b6b0bbd37d365a5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a4b57a30a8b9a67d46b6b0bbd37d365a5">app.main.apputils.readList</a> (fname)</td></tr>
<tr class="memdesc:a4b57a30a8b9a67d46b6b0bbd37d365a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Reads a list of names from a file.  <a href="apputils_8py.html#a4b57a30a8b9a67d46b6b0bbd37d365a5">More...</a><br /></td></tr>
<tr class="separator:a4b57a30a8b9a67d46b6b0bbd37d365a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f4ac21e7ea329c188677915a341ddbc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a6f4ac21e7ea329c188677915a341ddbc">app.main.apputils.createResetLists</a> (listnames)</td></tr>
<tr class="memdesc:a6f4ac21e7ea329c188677915a341ddbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Creates an RDF list of values for properties in listnames.  <a href="apputils_8py.html#a6f4ac21e7ea329c188677915a341ddbc">More...</a><br /></td></tr>
<tr class="separator:a6f4ac21e7ea329c188677915a341ddbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac45e0b43fbc295d84ea2c8e3003f600"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#aac45e0b43fbc295d84ea2c8e3003f600">app.main.apputils.getValuesForType</a> (colname, typename)</td></tr>
<tr class="memdesc:aac45e0b43fbc295d84ea2c8e3003f600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Generates a unique list of values for a property from the DB Arguments:  <a href="apputils_8py.html#aac45e0b43fbc295d84ea2c8e3003f600">More...</a><br /></td></tr>
<tr class="separator:aac45e0b43fbc295d84ea2c8e3003f600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1689e1921c890b50b1daf2233e1527fa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a1689e1921c890b50b1daf2233e1527fa">app.main.apputils.createListOfAllValues</a> (colname, typename, attritypes)</td></tr>
<tr class="memdesc:a1689e1921c890b50b1daf2233e1527fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose: Generates a unique list of values for a column from a map and inserts it in db Arguments:  <a href="apputils_8py.html#a1689e1921c890b50b1daf2233e1527fa">More...</a><br /></td></tr>
<tr class="separator:a1689e1921c890b50b1daf2233e1527fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a11e02db98c8471b91d4167dd395c29"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a4a11e02db98c8471b91d4167dd395c29">app.main.apputils.createListCache</a> (listnames)</td></tr>
<tr class="memdesc:a4a11e02db98c8471b91d4167dd395c29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:# Creates a cache for all lists accessibel by name key Called in models ini Arguments:  <a href="apputils_8py.html#a4a11e02db98c8471b91d4167dd395c29">More...</a><br /></td></tr>
<tr class="separator:a4a11e02db98c8471b91d4167dd395c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a809cbfd3a60e2b1de72389c4cf1fd9b3"><td class="memItemLeft" align="right" valign="top"><a id="a809cbfd3a60e2b1de72389c4cf1fd9b3"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.getallMuseumsOfProperty</b> (property)</td></tr>
<tr class="separator:a809cbfd3a60e2b1de72389c4cf1fd9b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e9d585f9bd50aaaf11ba5d8a0e201fa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a1e9d585f9bd50aaaf11ba5d8a0e201fa">app.main.apputils.getMuseumPropertiesForId</a> (shortid)</td></tr>
<tr class="memdesc:a1e9d585f9bd50aaaf11ba5d8a0e201fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Get all properties for a museum with id Arguments:  <a href="apputils_8py.html#a1e9d585f9bd50aaaf11ba5d8a0e201fa">More...</a><br /></td></tr>
<tr class="separator:a1e9d585f9bd50aaaf11ba5d8a0e201fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad1c9685bb71266d6e0ed705524e6a44"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#aad1c9685bb71266d6e0ed705524e6a44">app.main.apputils.getVizLocationData</a> (patharray, startperiod, endperiod, columns=None, locationname=&quot;location&quot;)</td></tr>
<tr class="memdesc:aad1c9685bb71266d6e0ed705524e6a44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Get data for use with the Admin data property of ONS classifications for visualisation Arguments:  <a href="apputils_8py.html#aad1c9685bb71266d6e0ed705524e6a44">More...</a><br /></td></tr>
<tr class="separator:aad1c9685bb71266d6e0ed705524e6a44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0daadd8f0f852049828b0c9fc6d92c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#afe0daadd8f0f852049828b0c9fc6d92c">app.main.apputils.getMarkerData</a> (columns, filters=None, vardict=None)</td></tr>
<tr class="memdesc:afe0daadd8f0f852049828b0c9fc6d92c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Retrieves data to be used with the browse page Arguments:  <a href="apputils_8py.html#afe0daadd8f0f852049828b0c9fc6d92c">More...</a><br /></td></tr>
<tr class="separator:afe0daadd8f0f852049828b0c9fc6d92c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44a09238ce2bbb0a2e2c047e39d296f4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a44a09238ce2bbb0a2e2c047e39d296f4">app.main.apputils.getMuseumPropertiesForIdWorking</a> (shortid)</td></tr>
<tr class="memdesc:a44a09238ce2bbb0a2e2c047e39d296f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Removes type info from name Arguments:  <a href="apputils_8py.html#a44a09238ce2bbb0a2e2c047e39d296f4">More...</a><br /></td></tr>
<tr class="separator:a44a09238ce2bbb0a2e2c047e39d296f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25aa0b31ab1007f23970be3a583e3ce7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a25aa0b31ab1007f23970be3a583e3ce7">app.main.apputils.isDataClass</a> (clazz)</td></tr>
<tr class="memdesc:a25aa0b31ab1007f23970be3a583e3ce7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Is this clazz an abstract clazz? Obviously the hard coding needs to go.  <a href="apputils_8py.html#a25aa0b31ab1007f23970be3a583e3ce7">More...</a><br /></td></tr>
<tr class="separator:a25aa0b31ab1007f23970be3a583e3ce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae149d9fda553dbf30db32b8d431f81a6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#ae149d9fda553dbf30db32b8d431f81a6">app.main.apputils.getDataClassInstance</a> (clazz)</td></tr>
<tr class="memdesc:ae149d9fda553dbf30db32b8d431f81a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Loads a class inmplementation Arguments:  <a href="apputils_8py.html#ae149d9fda553dbf30db32b8d431f81a6">More...</a><br /></td></tr>
<tr class="separator:ae149d9fda553dbf30db32b8d431f81a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dd7e769be80ca45afe9e52dfd5df0dc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a7dd7e769be80ca45afe9e52dfd5df0dc">app.main.apputils.discoverDatatypes</a> (datadict)</td></tr>
<tr class="memdesc:a7dd7e769be80ca45afe9e52dfd5df0dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Look for data type implementations and create a cache This works both on the attritypes (LIST) and the datadict (DICT) so we need to check which it is Arguments:  <a href="apputils_8py.html#a7dd7e769be80ca45afe9e52dfd5df0dc">More...</a><br /></td></tr>
<tr class="separator:a7dd7e769be80ca45afe9e52dfd5df0dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb609a6b67aa6c22551e87c1deb621b6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#adb609a6b67aa6c22551e87c1deb621b6">app.main.apputils.getdatagroups</a> (attributetypes)</td></tr>
<tr class="memdesc:adb609a6b67aa6c22551e87c1deb621b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Creates the select menu for the datatypes used in search loop over all types picking non xml datatype add List to typename (dataproperty) get list from database add all elements of list as group:typename to map Arguments:  <a href="apputils_8py.html#adb609a6b67aa6c22551e87c1deb621b6">More...</a><br /></td></tr>
<tr class="separator:adb609a6b67aa6c22551e87c1deb621b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e9522aa08c916a54a117070b1052362"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a5e9522aa08c916a54a117070b1052362">app.main.apputils.getpredicatestypes</a> ()</td></tr>
<tr class="memdesc:a5e9522aa08c916a54a117070b1052362"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Retrieves classes and predicates.  <a href="apputils_8py.html#a5e9522aa08c916a54a117070b1052362">More...</a><br /></td></tr>
<tr class="separator:a5e9522aa08c916a54a117070b1052362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94bd572b5647553a38e29c43c1dbcf5e"><td class="memItemLeft" align="right" valign="top"><a id="a94bd572b5647553a38e29c43c1dbcf5e"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a94bd572b5647553a38e29c43c1dbcf5e">app.main.apputils.getmuseumpredicates</a> ()</td></tr>
<tr class="memdesc:a94bd572b5647553a38e29c43c1dbcf5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Retrieves all predicats relating to a museum. <br /></td></tr>
<tr class="separator:a94bd572b5647553a38e29c43c1dbcf5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00681d09a94f5f4c0311e7b8ba627d50"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a00681d09a94f5f4c0311e7b8ba627d50">app.main.apputils.getDefinedType</a> (incol)</td></tr>
<tr class="memdesc:a00681d09a94f5f4c0311e7b8ba627d50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Returns the column if defined in the datatyep map Arguments:  <a href="apputils_8py.html#a00681d09a94f5f4c0311e7b8ba627d50">More...</a><br /></td></tr>
<tr class="separator:a00681d09a94f5f4c0311e7b8ba627d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a830894546b2b8fa295df421b5e77b866"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a830894546b2b8fa295df421b5e77b866">app.main.apputils.isTypeAClazz</a> (incol, defcol)</td></tr>
<tr class="memdesc:a830894546b2b8fa295df421b5e77b866"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Is this column an abstract type? Arguments:  <a href="apputils_8py.html#a830894546b2b8fa295df421b5e77b866">More...</a><br /></td></tr>
<tr class="separator:a830894546b2b8fa295df421b5e77b866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0873bf11568456a2cef3dc293b4983a3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a0873bf11568456a2cef3dc293b4983a3">app.main.apputils.getQueryForCol</a> (incol, rcount, optional=True, museumuri='?museum ', matchstrings=[], conditions=[], matchcolumns=[], coltoargdict={})</td></tr>
<tr class="memdesc:a0873bf11568456a2cef3dc293b4983a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Creates a query for a column Arguments:  <a href="apputils_8py.html#a0873bf11568456a2cef3dc293b4983a3">More...</a><br /></td></tr>
<tr class="separator:a0873bf11568456a2cef3dc293b4983a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66fda77a1920dc5eae535a18391c63f5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a66fda77a1920dc5eae535a18391c63f5">app.main.apputils.getCol</a> (col, coltocountdict, lowerorupper=&quot;&quot;)</td></tr>
<tr class="memdesc:a66fda77a1920dc5eae535a18391c63f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Create virtuoso data type statement for column Arguments:  <a href="apputils_8py.html#a66fda77a1920dc5eae535a18391c63f5">More...</a><br /></td></tr>
<tr class="separator:a66fda77a1920dc5eae535a18391c63f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdb0219b81b60073e446bf8a0dd5018e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#afdb0219b81b60073e446bf8a0dd5018e">app.main.apputils.getFilterClause</a> (matchcolumns, conditions, matchstrings, coltocountdict)</td></tr>
<tr class="memdesc:afdb0219b81b60073e446bf8a0dd5018e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Returns a filter clause for a column Arguments:  <a href="apputils_8py.html#afdb0219b81b60073e446bf8a0dd5018e">More...</a><br /></td></tr>
<tr class="separator:afdb0219b81b60073e446bf8a0dd5018e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03446e0814a13147c1dfa0446969ba58"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a03446e0814a13147c1dfa0446969ba58">app.main.apputils.getSearchResults</a> (columns, matchcolumns, conditions, matchstrings, ordercolumn)</td></tr>
<tr class="memdesc:a03446e0814a13147c1dfa0446969ba58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purpose:Create a query for a list of columns Arguments:  <a href="apputils_8py.html#a03446e0814a13147c1dfa0446969ba58">More...</a><br /></td></tr>
<tr class="separator:a03446e0814a13147c1dfa0446969ba58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4b29e77554c9c75fd96474c6757a99b4"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.REVERSE_COUNTRY_TRANSLATION_TABLE</b></td></tr>
<tr class="separator:a4b29e77554c9c75fd96474c6757a99b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59548f46630d6e1f8e24676832100db3"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.COUNTRY_TRANSLATION_TABLE</b></td></tr>
<tr class="separator:a59548f46630d6e1f8e24676832100db3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca78671a184a45c163d4bdf257f21777"><td class="memItemLeft" align="right" valign="top"><a id="aca78671a184a45c163d4bdf257f21777"></a>
dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.COUNTY_TRANSLATION_TABLE</b></td></tr>
<tr class="separator:aca78671a184a45c163d4bdf257f21777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af56153938c9589e68f0b2f609cd801c1"><td class="memItemLeft" align="right" valign="top"><a id="af56153938c9589e68f0b2f609cd801c1"></a>
dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.REVERSE_COUNTY_TRANSLATION_TABLE</b></td></tr>
<tr class="separator:af56153938c9589e68f0b2f609cd801c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69bc57fce2cd8f6dc66633a71891e2db"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.GOR_TRANSLATION_TABLE</b></td></tr>
<tr class="separator:a69bc57fce2cd8f6dc66633a71891e2db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5287d499c97955411692a01dd0876000"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.REVERSE_GOR_TRANSLATION_TABLE</b></td></tr>
<tr class="separator:a5287d499c97955411692a01dd0876000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41028399931db4d2aa32f4a595ff15b1"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.CA_CODE_TO_GOR_TABLE</b></td></tr>
<tr class="separator:a41028399931db4d2aa32f4a595ff15b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3a1dfa0dade2357dc636ab318663850"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.CA_CODE_TO_NAME_TABLE</b></td></tr>
<tr class="separator:ab3a1dfa0dade2357dc636ab318663850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f158683f7b03f39ab52742d66556f9"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.REVERSE_CA_CODE_TO_NAME_TABLE</b></td></tr>
<tr class="separator:a93f158683f7b03f39ab52742d66556f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf32b3f153712ec7736b2d16d5a20d22"><td class="memItemLeft" align="right" valign="top"><a id="acf32b3f153712ec7736b2d16d5a20d22"></a>
dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.LA_TO_CA_CODES_TABLE</b></td></tr>
<tr class="separator:acf32b3f153712ec7736b2d16d5a20d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1264553a66f6edae499625a830095fd"><td class="memItemLeft" align="right" valign="top"><a id="ac1264553a66f6edae499625a830095fd"></a>
dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.LA_TO_CA_NAMES_TABLE</b></td></tr>
<tr class="separator:ac1264553a66f6edae499625a830095fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2849efa36bf2f32795de19b10d82289"><td class="memItemLeft" align="right" valign="top"><a id="ad2849efa36bf2f32795de19b10d82289"></a>
dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.LA_TRANSLATION_TABLE</b> = {}</td></tr>
<tr class="separator:ad2849efa36bf2f32795de19b10d82289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8f2c775f4b1e8cd185164541799a52"><td class="memItemLeft" align="right" valign="top"><a id="a0f8f2c775f4b1e8cd185164541799a52"></a>
dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.REVERSE_LA_TRANSLATION_TABLE</b> = {}</td></tr>
<tr class="separator:a0f8f2c775f4b1e8cd185164541799a52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa315f623fd020c499508e6cf2b777cdd"><td class="memItemLeft" align="right" valign="top"><a id="aa315f623fd020c499508e6cf2b777cdd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.modeltoview</b> = model_to_view.Model_To_View()</td></tr>
<tr class="separator:aa315f623fd020c499508e6cf2b777cdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d63b46b6b7c27fe1df03e37bdbbc13"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a69d63b46b6b7c27fe1df03e37bdbbc13">app.main.apputils.vizgeoquery</a> = vizgeoquery.replace(key.strip(),val.strip())</td></tr>
<tr class="memdesc:a69d63b46b6b7c27fe1df03e37bdbbc13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deal with the visualisation geo query Once this works it should be turned into a ligthweight datatype class that can be added dynamically and does not have all the search interfaces.  <a href="apputils_8py.html#a69d63b46b6b7c27fe1df03e37bdbbc13">More...</a><br /></td></tr>
<tr class="separator:a69d63b46b6b7c27fe1df03e37bdbbc13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dffa204a19eb28ce6b63b36fdd9d644"><td class="memItemLeft" align="right" valign="top"><a id="a4dffa204a19eb28ce6b63b36fdd9d644"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.geoquery</b> = vizgeoquery</td></tr>
<tr class="separator:a4dffa204a19eb28ce6b63b36fdd9d644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59100073c2155431943fe6f89df06a3f"><td class="memItemLeft" align="right" valign="top"><a id="a59100073c2155431943fe6f89df06a3f"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.queryparams</b> = queryparams+&quot;?&quot;+definitions.GEOCOL+&quot; &quot;</td></tr>
<tr class="separator:a59100073c2155431943fe6f89df06a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af65c36a426ea9d4f5507e389285e2ab8"><td class="memItemLeft" align="right" valign="top"><a id="af65c36a426ea9d4f5507e389285e2ab8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.vizadmgeoquery</b> = vizadmgeoquery.replace(key.strip(),val.strip())</td></tr>
<tr class="separator:af65c36a426ea9d4f5507e389285e2ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a888d2381d7415db1c737c314d9930313"><td class="memItemLeft" align="right" valign="top"><a id="a888d2381d7415db1c737c314d9930313"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.filter</b> = filter+f+&quot; . \n&quot;</td></tr>
<tr class="separator:a888d2381d7415db1c737c314d9930313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22cb223de832e5d9d70271bae44c4de6"><td class="memItemLeft" align="right" valign="top"><a id="a22cb223de832e5d9d70271bae44c4de6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.rcount</b> = 1</td></tr>
<tr class="separator:a22cb223de832e5d9d70271bae44c4de6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac20d0fc2c283d6e4997c58e964c90830"><td class="memItemLeft" align="right" valign="top"><a id="ac20d0fc2c283d6e4997c58e964c90830"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.querycols</b> = querycols+getQueryForCol(col,rcount)</td></tr>
<tr class="separator:ac20d0fc2c283d6e4997c58e964c90830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32827ce26d3309cdbda06fe1bc91d4aa"><td class="memItemLeft" align="right" valign="top"><a id="a32827ce26d3309cdbda06fe1bc91d4aa"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.sparql</b> = SPARQLWrapper(app.config['SPARQLENDPOINT'])</td></tr>
<tr class="separator:a32827ce26d3309cdbda06fe1bc91d4aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6246ecc64ed168988053fd9b09c3cb4"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.query</b></td></tr>
<tr class="separator:aa6246ecc64ed168988053fd9b09c3cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d430f60d6b0b8af6e8bcd93ddd9fb8c"><td class="memItemLeft" align="right" valign="top"><a id="a6d430f60d6b0b8af6e8bcd93ddd9fb8c"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.results</b> = sparql.query().convert()</td></tr>
<tr class="separator:a6d430f60d6b0b8af6e8bcd93ddd9fb8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5346e03c8574d7315e640135cff75052"><td class="memItemLeft" align="right" valign="top"><a id="a5346e03c8574d7315e640135cff75052"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#a5346e03c8574d7315e640135cff75052">app.main.apputils.op</a></td></tr>
<tr class="memdesc:a5346e03c8574d7315e640135cff75052"><td class="mdescLeft">&#160;</td><td class="mdescRight">Range lower value=lv uppervalue=uv. <br /></td></tr>
<tr class="separator:a5346e03c8574d7315e640135cff75052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8d81ee08861f6b479d4045ea7dd2c1d"><td class="memItemLeft" align="right" valign="top"><a id="aa8d81ee08861f6b479d4045ea7dd2c1d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.cond</b></td></tr>
<tr class="separator:aa8d81ee08861f6b479d4045ea7dd2c1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6899fa2ad1c2e5013cc831351c09c5f6"><td class="memItemLeft" align="right" valign="top"><a id="a6899fa2ad1c2e5013cc831351c09c5f6"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.matchfilter</b> = matchfilter+ &quot;FILTER (&quot;+cond+&quot;) . \n&quot;</td></tr>
<tr class="separator:a6899fa2ad1c2e5013cc831351c09c5f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab585e121ff9adb5c3069f9e8cd670454"><td class="memItemLeft" align="right" valign="top"><a id="ab585e121ff9adb5c3069f9e8cd670454"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.tempfilter</b> = &quot;&quot;</td></tr>
<tr class="separator:ab585e121ff9adb5c3069f9e8cd670454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad33f131c301cf96dab577585103ddc88"><td class="memItemLeft" align="right" valign="top"><a id="ad33f131c301cf96dab577585103ddc88"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.tlen</b> = len(tempfilter)-2</td></tr>
<tr class="separator:ad33f131c301cf96dab577585103ddc88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8155de3f0200f283cf0a9f5760320c86"><td class="memItemLeft" align="right" valign="top"><a id="a8155de3f0200f283cf0a9f5760320c86"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.filterdict</b> = None</td></tr>
<tr class="separator:a8155de3f0200f283cf0a9f5760320c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab926c9b44fbfee529286bedd4636e52d"><td class="memItemLeft" align="right" valign="top"><a id="ab926c9b44fbfee529286bedd4636e52d"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apputils_8py.html#ab926c9b44fbfee529286bedd4636e52d">app.main.apputils.map_querycols</a> = &quot;&quot;</td></tr>
<tr class="memdesc:ab926c9b44fbfee529286bedd4636e52d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapdata additions, make sure not to duplicate properties. <br /></td></tr>
<tr class="separator:ab926c9b44fbfee529286bedd4636e52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e04905a055f87527cd7cb417c88352"><td class="memItemLeft" align="right" valign="top"><a id="a35e04905a055f87527cd7cb417c88352"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.map_queryparams</b> = &quot;&quot;</td></tr>
<tr class="separator:a35e04905a055f87527cd7cb417c88352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a934d15d72f07da4508cd1c73583df77e"><td class="memItemLeft" align="right" valign="top"><a id="a934d15d72f07da4508cd1c73583df77e"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.map_columns</b> = [definitions.LATITUDE,definitions.LONGITUDE]</td></tr>
<tr class="separator:a934d15d72f07da4508cd1c73583df77e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8688655f1d00361200405ba54787839a"><td class="memItemLeft" align="right" valign="top"><a id="a8688655f1d00361200405ba54787839a"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.newresults</b> = []</td></tr>
<tr class="separator:a8688655f1d00361200405ba54787839a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499e7ccec591253fee334f32be862d20"><td class="memItemLeft" align="right" valign="top"><a id="a499e7ccec591253fee334f32be862d20"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>app.main.apputils.newres</b> = []</td></tr>
<tr class="separator:a499e7ccec591253fee334f32be862d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">This module implements : 1. </p>
<p class="">All the methods for accessing the ONS data for locations.</p><ol type="1">
<li>All the definitions used in processing the ONS data.</li>
<li>The query engine used in search.</li>
</ol>
<p class=""><br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 <br />
 More details. $$Author$:Nick Larsson, Researcher, Dep. of Computer Science and Information Systems at Birkbeck University, London, England, email:<a href="#" onclick="location.href='mai'+'lto:'+'nic'+'k@'+'dcs'+'.b'+'bk.'+'ac'+'.uk'; return false;">nick@<span style="display: none;">.nosp@m.</span>dcs.<span style="display: none;">.nosp@m.</span>bbk.a<span style="display: none;">.nosp@m.</span>c.uk</a>, License:GNU GPLv3</p>
<ul>
<li># - # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - </li>
</ul>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a4a11e02db98c8471b91d4167dd395c29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a11e02db98c8471b91d4167dd395c29">&#9670;&nbsp;</a></span>createListCache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.createListCache </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>listnames</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:# Creates a cache for all lists accessibel by name key Called in models ini Arguments: </p>
<p class=""><br />
  list of names for the lists to cache </p>

</div>
</div>
<a id="a1689e1921c890b50b1daf2233e1527fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1689e1921c890b50b1daf2233e1527fa">&#9670;&nbsp;</a></span>createListOfAllValues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.createListOfAllValues </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>colname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>typename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>attritypes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose: Generates a unique list of values for a column from a map and inserts it in db Arguments: </p>
<p class=""><br />
  property  type of property  the map from which the values are taken </p>

</div>
</div>
<a id="a6f4ac21e7ea329c188677915a341ddbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f4ac21e7ea329c188677915a341ddbc">&#9670;&nbsp;</a></span>createResetLists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.createResetLists </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>listnames</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Creates an RDF list of values for properties in listnames. </p>
<p class="">This is used to allow configurations to be reset after a change If a list named xxListReset does not exist create one from the name xxList Called in models ini Arguments:</p>
<p class=""><br />
  conveniece method to create lists for many properties </p>

</div>
</div>
<a id="a7dd7e769be80ca45afe9e52dfd5df0dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dd7e769be80ca45afe9e52dfd5df0dc">&#9670;&nbsp;</a></span>discoverDatatypes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.discoverDatatypes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datadict</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Look for data type implementations and create a cache This works both on the attritypes (LIST) and the datadict (DICT) so we need to check which it is Arguments: </p>
<p class=""><br />
  cache </p>

</div>
</div>
<a id="a66fda77a1920dc5eae535a18391c63f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66fda77a1920dc5eae535a18391c63f5">&#9670;&nbsp;</a></span>getCol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.getCol </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>coltocountdict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lowerorupper</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Create virtuoso data type statement for column Arguments: </p>
<p class=""><br />
  name  variable counts ="" name of SPARQL variable </p>

</div>
</div>
<a id="ae149d9fda553dbf30db32b8d431f81a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae149d9fda553dbf30db32b8d431f81a6">&#9670;&nbsp;</a></span>getDataClassInstance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.getDataClassInstance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>clazz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Loads a class inmplementation Arguments: </p>
<p class=""><br />
  name </p>

</div>
</div>
<a id="adb609a6b67aa6c22551e87c1deb621b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb609a6b67aa6c22551e87c1deb621b6">&#9670;&nbsp;</a></span>getdatagroups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.getdatagroups </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>attributetypes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Creates the select menu for the datatypes used in search loop over all types picking non xml datatype add List to typename (dataproperty) get list from database add all elements of list as group:typename to map Arguments: </p>
<p class=""><br />
  the types to retrieve the values for </p>

</div>
</div>
<a id="a00681d09a94f5f4c0311e7b8ba627d50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00681d09a94f5f4c0311e7b8ba627d50">&#9670;&nbsp;</a></span>getDefinedType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.getDefinedType </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>incol</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Returns the column if defined in the datatyep map Arguments: </p>
<p class=""><br />
  col to look for </p>

</div>
</div>
<a id="afdb0219b81b60073e446bf8a0dd5018e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdb0219b81b60073e446bf8a0dd5018e">&#9670;&nbsp;</a></span>getFilterClause()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.getFilterClause </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>matchcolumns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>conditions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>matchstrings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>coltocountdict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Returns a filter clause for a column Arguments: </p>
<p class=""><br />
  columns  conditions  strings to match  variable count </p>

</div>
</div>
<a id="afe0daadd8f0f852049828b0c9fc6d92c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe0daadd8f0f852049828b0c9fc6d92c">&#9670;&nbsp;</a></span>getMarkerData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.getMarkerData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filters</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vardict</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Retrieves data to be used with the browse page Arguments: </p>
<p class=""><br />
  columns to retrieve =None =None dictionary to be used when SPARQL variables duplicate each other </p>

</div>
</div>
<a id="a1e9d585f9bd50aaaf11ba5d8a0e201fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e9d585f9bd50aaaf11ba5d8a0e201fa">&#9670;&nbsp;</a></span>getMuseumPropertiesForId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.getMuseumPropertiesForId </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shortid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Get all properties for a museum with id Arguments: </p>
<p class=""><br />
  museum id </p>

</div>
</div>
<a id="a44a09238ce2bbb0a2e2c047e39d296f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44a09238ce2bbb0a2e2c047e39d296f4">&#9670;&nbsp;</a></span>getMuseumPropertiesForIdWorking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.getMuseumPropertiesForIdWorking </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shortid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Removes type info from name Arguments: </p>
<p class=""><br />
  </p>

</div>
</div>
<a id="a5e9522aa08c916a54a117070b1052362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e9522aa08c916a54a117070b1052362">&#9670;&nbsp;</a></span>getpredicatestypes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.getpredicatestypes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Retrieves classes and predicates. </p>
<p class="">Side effect that they go into the definitions dict as well </p>

</div>
</div>
<a id="a0873bf11568456a2cef3dc293b4983a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0873bf11568456a2cef3dc293b4983a3">&#9670;&nbsp;</a></span>getQueryForCol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.getQueryForCol </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>incol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rcount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>optional</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>museumuri</em> = <code>'?museum&#160;'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>matchstrings</em> = <code>[]</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>conditions</em> = <code>[]</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>matchcolumns</em> = <code>[]</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>coltoargdict</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Creates a query for a column Arguments: </p>
<p class=""><br />
  the column to search  variable repeat count =True Is the query optional? ='?museum ' name of museum class variable =[] query match string =[] condition =[] column name ={} macro name for column in case type is an implementation class </p>

</div>
</div>
<a id="a03446e0814a13147c1dfa0446969ba58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03446e0814a13147c1dfa0446969ba58">&#9670;&nbsp;</a></span>getSearchResults()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.getSearchResults </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>matchcolumns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>conditions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>matchstrings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ordercolumn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Create a query for a list of columns Arguments: </p>
<p class=""><br />
  column names  match names  conditions  strings to match  which column to order on </p>

</div>
</div>
<a id="aac45e0b43fbc295d84ea2c8e3003f600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac45e0b43fbc295d84ea2c8e3003f600">&#9670;&nbsp;</a></span>getValuesForType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.getValuesForType </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>colname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>typename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Generates a unique list of values for a property from the DB Arguments: </p>
<p class=""><br />
   </p>

</div>
</div>
<a id="aad1c9685bb71266d6e0ed705524e6a44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad1c9685bb71266d6e0ed705524e6a44">&#9670;&nbsp;</a></span>getVizLocationData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.getVizLocationData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>patharray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>startperiod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>endperiod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>columns</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>locationname</em> = <code>&quot;location&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Get data for use with the Admin data property of ONS classifications for visualisation Arguments: </p>
<p class=""><br />
  the menu path  start year  end year =None columns to retrieve ="location" The location attribute to retrieve on </p>

</div>
</div>
<a id="a25aa0b31ab1007f23970be3a583e3ce7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25aa0b31ab1007f23970be3a583e3ce7">&#9670;&nbsp;</a></span>isDataClass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.isDataClass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>clazz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Is this clazz an abstract clazz? Obviously the hard coding needs to go. </p>
<p class="">The names are available in the db. Arguments:</p>
<p class=""><br />
  name </p>

</div>
</div>
<a id="a830894546b2b8fa295df421b5e77b866"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a830894546b2b8fa295df421b5e77b866">&#9670;&nbsp;</a></span>isTypeAClazz()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.isTypeAClazz </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>incol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>defcol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Is this column an abstract type? Arguments: </p>
<p class=""><br />
  colomn  its abstract type name </p>

</div>
</div>
<a id="a4b57a30a8b9a67d46b6b0bbd37d365a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b57a30a8b9a67d46b6b0bbd37d365a5">&#9670;&nbsp;</a></span>readList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.readList </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose:Reads a list of names from a file. </p>
<p class="">Used for configuration Arguments:</p>
<p class=""><br />
  name of file to read </p>

</div>
</div>
<a id="a26d1beaec54c0632a0b603a8bb1a9ba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26d1beaec54c0632a0b603a8bb1a9ba9">&#9670;&nbsp;</a></span>readNames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def app.main.apputils.readNames </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purpose: Reads district and county names. </p>
<p class="">Arguments:</p>
<p class=""><br />
  name of file to read </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a41028399931db4d2aa32f4a595ff15b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41028399931db4d2aa32f4a595ff15b1">&#9670;&nbsp;</a></span>CA_CODE_TO_GOR_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary app.main.apputils.CA_CODE_TO_GOR_TABLE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;= {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="stringliteral">&quot;E47000001&quot;</span>:<span class="stringliteral">&quot;E12000002&quot;</span>,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="stringliteral">&quot;E47000002&quot;</span>:<span class="stringliteral">&quot;E12000003&quot;</span>,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="stringliteral">&quot;E47000003&quot;</span>:<span class="stringliteral">&quot;E12000003&quot;</span>,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="stringliteral">&quot;E47000004&quot;</span>:<span class="stringliteral">&quot;E12000002&quot;</span>,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="stringliteral">&quot;E47000005&quot;</span>:<span class="stringliteral">&quot;E12000001&quot;</span>,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="stringliteral">&quot;E47000006&quot;</span>:<span class="stringliteral">&quot;E12000001&quot;</span>,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="stringliteral">&quot;E47000007&quot;</span>:<span class="stringliteral">&quot;E12000005&quot;</span>,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="stringliteral">&quot;E47000008&quot;</span>:<span class="stringliteral">&quot;E12000006&quot;</span>,</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="stringliteral">&quot;E47000009&quot;</span>:<span class="stringliteral">&quot;E12000009&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="ab3a1dfa0dade2357dc636ab318663850"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3a1dfa0dade2357dc636ab318663850">&#9670;&nbsp;</a></span>CA_CODE_TO_NAME_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary app.main.apputils.CA_CODE_TO_NAME_TABLE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;= {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="stringliteral">&quot;E47000001&quot;</span>:<span class="stringliteral">&quot;Greater Manchester&quot;</span>,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="stringliteral">&quot;E47000002&quot;</span>:<span class="stringliteral">&quot;Sheffield City Region&quot;</span>,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="stringliteral">&quot;E47000003&quot;</span>:<span class="stringliteral">&quot;West Yorkshire&quot;</span>,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="stringliteral">&quot;E47000004&quot;</span>:<span class="stringliteral">&quot;Liverpool City Region&quot;</span>,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="stringliteral">&quot;E47000005&quot;</span>:<span class="stringliteral">&quot;North East&quot;</span>,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="stringliteral">&quot;E47000006&quot;</span>:<span class="stringliteral">&quot;Tees Valley&quot;</span>,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="stringliteral">&quot;E47000007&quot;</span>:<span class="stringliteral">&quot;West Midlands&quot;</span>,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="stringliteral">&quot;E47000008&quot;</span>:<span class="stringliteral">&quot;Cambridgeshire and Peterborough&quot;</span>,</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="stringliteral">&quot;E47000009&quot;</span>:<span class="stringliteral">&quot;West of England&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a59548f46630d6e1f8e24676832100db3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59548f46630d6e1f8e24676832100db3">&#9670;&nbsp;</a></span>COUNTRY_TRANSLATION_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary app.main.apputils.COUNTRY_TRANSLATION_TABLE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;= {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    <span class="stringliteral">&quot;E92000001&quot;</span>:<span class="stringliteral">&quot;England&quot;</span>,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    <span class="stringliteral">&quot;L93000001&quot;</span>:<span class="stringliteral">&quot;Channel Islands&quot;</span>,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    <span class="stringliteral">&quot;M83000003&quot;</span>:<span class="stringliteral">&quot;Isle of Man&quot;</span>,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    <span class="stringliteral">&quot;N92000002&quot;</span>:<span class="stringliteral">&quot;Northern Ireland&quot;</span>,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    <span class="stringliteral">&quot;S92000003&quot;</span>:<span class="stringliteral">&quot;Scotland&quot;</span>,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <span class="stringliteral">&quot;W92000004&quot;</span>:<span class="stringliteral">&quot;Wales&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a69bc57fce2cd8f6dc66633a71891e2db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69bc57fce2cd8f6dc66633a71891e2db">&#9670;&nbsp;</a></span>GOR_TRANSLATION_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary app.main.apputils.GOR_TRANSLATION_TABLE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;= {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    <span class="stringliteral">&quot;E12000001&quot;</span> : <span class="stringliteral">&quot;North East&quot;</span>,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    <span class="stringliteral">&quot;E12000002&quot;</span> : <span class="stringliteral">&quot;North West&quot;</span>,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    <span class="stringliteral">&quot;E12000003&quot;</span> : <span class="stringliteral">&quot;Yorkshire and The Humber&quot;</span>,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    <span class="stringliteral">&quot;E12000004&quot;</span> : <span class="stringliteral">&quot;East Midlands&quot;</span>,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    <span class="stringliteral">&quot;E12000005&quot;</span> : <span class="stringliteral">&quot;West Midlands&quot;</span>,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <span class="stringliteral">&quot;E12000006&quot;</span> : <span class="stringliteral">&quot;East of England&quot;</span>,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <span class="stringliteral">&quot;E12000007&quot;</span> : <span class="stringliteral">&quot;London&quot;</span>,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <span class="stringliteral">&quot;E12000008&quot;</span> : <span class="stringliteral">&quot;South East&quot;</span>,</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <span class="stringliteral">&quot;E12000009&quot;</span> : <span class="stringliteral">&quot;South West&quot;</span>,</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <span class="stringliteral">&quot;W99999999&quot;</span> : <span class="stringliteral">&quot;(pseudo) Wales&quot;</span>,</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <span class="stringliteral">&quot;S99999999&quot;</span> : <span class="stringliteral">&quot;(pseudo) Scotland&quot;</span>,</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="stringliteral">&quot;N99999999&quot;</span> : <span class="stringliteral">&quot;(pseudo) Northern Ireland&quot;</span>,</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="stringliteral">&quot;L99999999&quot;</span> : <span class="stringliteral">&quot;(pseudo) Channel Islands&quot;</span>,</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="stringliteral">&quot;M99999999&quot;</span> : <span class="stringliteral">&quot;(pseudo) Isle of Man&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="aa6246ecc64ed168988053fd9b09c3cb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6246ecc64ed168988053fd9b09c3cb4">&#9670;&nbsp;</a></span>query</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string app.main.apputils.query</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;= definitions.RDF_PREFIX_PRELUDE+<span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="stringliteral">    prefix &quot;&quot;&quot;</span>+definitions.PREFIX_WITHCOLON+<span class="stringliteral">&quot;&quot;&quot; &lt;http://&quot;&quot;&quot;</span>+definitions.RDFDEFURI+<span class="stringliteral">&quot;&quot;&quot;&gt; </span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="stringliteral">    SELECT DISTINCT  ?museum ?Latitude ?Longitude &quot;&quot;&quot;</span>+str(queryparams)+<span class="stringliteral">&quot;&quot;&quot; </span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="stringliteral">    FROM &lt;&quot;&quot;&quot;</span>+app.config[<span class="stringliteral">&#39;DEFAULTGRAPH&#39;</span>]+<span class="stringliteral">&quot;&quot;&quot;&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="stringliteral">    FROM &lt;&quot;&quot;&quot;</span>+app.config[<span class="stringliteral">&#39;GEOADMINGRAPH&#39;</span>]+<span class="stringliteral">&quot;&quot;&quot;&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="stringliteral">    WHERE { </span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="stringliteral">    ?museum  rdf:type &quot;&quot;&quot;</span>+definitions.PREFIX_WITHCOLON+<span class="stringliteral">&quot;&quot;&quot;Museum .</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="stringliteral">    ?museum  &quot;&quot;&quot;</span>+definitions.PREFIX_WITHCOLON+definitions.HASNAME+definitions.LATITUDE+<span class="stringliteral">&quot;&quot;&quot; ?Latitude . </span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="stringliteral">    ?museum  &quot;&quot;&quot;</span>+definitions.PREFIX_WITHCOLON+definitions.HASNAME+definitions.LONGITUDE+<span class="stringliteral">&quot;&quot;&quot; ?Longitude . </span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span>+str(geoquery)+<span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span>+str(querycols)+<span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span>+str(filter)+<span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="stringliteral">    } &quot;&quot;&quot;</span></div></div><!-- fragment -->
</div>
</div>
<a id="a93f158683f7b03f39ab52742d66556f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93f158683f7b03f39ab52742d66556f9">&#9670;&nbsp;</a></span>REVERSE_CA_CODE_TO_NAME_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary app.main.apputils.REVERSE_CA_CODE_TO_NAME_TABLE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;= {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    <span class="stringliteral">&quot;Greater Manchester&quot;</span> :     <span class="stringliteral">&quot;E47000001&quot;</span>,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    <span class="stringliteral">&quot;Sheffield City Region&quot;</span> :     <span class="stringliteral">&quot;E47000002&quot;</span>,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    <span class="stringliteral">&quot;West Yorkshire&quot;</span> :     <span class="stringliteral">&quot;E47000003&quot;</span>,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    <span class="stringliteral">&quot;Liverpool City Region&quot;</span> :     <span class="stringliteral">&quot;E47000004&quot;</span>,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    <span class="stringliteral">&quot;North East&quot;</span> :     <span class="stringliteral">&quot;E47000005&quot;</span>,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <span class="stringliteral">&quot;Tees Valley&quot;</span> :     <span class="stringliteral">&quot;E47000006&quot;</span>,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <span class="stringliteral">&quot;West Midlands&quot;</span> :     <span class="stringliteral">&quot;E47000007&quot;</span>,  </div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <span class="stringliteral">&quot;Cambridgeshire and Peterborough&quot;</span> :     <span class="stringliteral">&quot;E47000008&quot;</span>,</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <span class="stringliteral">&quot;West of England&quot;</span>:<span class="stringliteral">&quot;E47000009&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a4b29e77554c9c75fd96474c6757a99b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b29e77554c9c75fd96474c6757a99b4">&#9670;&nbsp;</a></span>REVERSE_COUNTRY_TRANSLATION_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary app.main.apputils.REVERSE_COUNTRY_TRANSLATION_TABLE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;= {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    <span class="stringliteral">&quot;England&quot;</span>:<span class="stringliteral">&quot;E92000001&quot;</span>,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    <span class="stringliteral">&quot;Channel Islands&quot;</span>:<span class="stringliteral">&quot;L93000001&quot;</span>,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    <span class="stringliteral">&quot;Isle of Man&quot;</span>:<span class="stringliteral">&quot;M83000003&quot;</span>,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    <span class="stringliteral">&quot;Northern Ireland&quot;</span>:<span class="stringliteral">&quot;N92000002&quot;</span>,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    <span class="stringliteral">&quot;Scotland&quot;</span>:<span class="stringliteral">&quot;S92000003&quot;</span>,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <span class="stringliteral">&quot;Wales&quot;</span>:<span class="stringliteral">&quot;W92000004&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a5287d499c97955411692a01dd0876000"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5287d499c97955411692a01dd0876000">&#9670;&nbsp;</a></span>REVERSE_GOR_TRANSLATION_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary app.main.apputils.REVERSE_GOR_TRANSLATION_TABLE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;= {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    <span class="stringliteral">&quot;North East&quot;</span>:<span class="stringliteral">&quot;E12000001&quot;</span>,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    <span class="stringliteral">&quot;North West&quot;</span>:<span class="stringliteral">&quot;E12000002&quot;</span>,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    <span class="stringliteral">&quot;Yorkshire and The Humber&quot;</span>:<span class="stringliteral">&quot;E12000003&quot;</span>,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    <span class="stringliteral">&quot;East Midlands&quot;</span>:<span class="stringliteral">&quot;E12000004&quot;</span>,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    <span class="stringliteral">&quot;West Midlands&quot;</span>:<span class="stringliteral">&quot;E12000005&quot;</span>,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <span class="stringliteral">&quot;East of England&quot;</span>:<span class="stringliteral">&quot;E12000006&quot;</span>,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <span class="stringliteral">&quot;London&quot;</span>:<span class="stringliteral">&quot;E12000007&quot;</span>,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <span class="stringliteral">&quot;South East&quot;</span>:<span class="stringliteral">&quot;E12000008&quot;</span>,</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <span class="stringliteral">&quot;South West&quot;</span>:<span class="stringliteral">&quot;E12000009&quot;</span>,</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <span class="stringliteral">&quot;(pseudo) Wales&quot;</span>:<span class="stringliteral">&quot;W99999999&quot;</span>,</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <span class="stringliteral">&quot;(pseudo) Scotland&quot;</span>:<span class="stringliteral">&quot;S99999999&quot;</span>,</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="stringliteral">&quot;(pseudo) Northern Ireland&quot;</span>:<span class="stringliteral">&quot;N99999999&quot;</span>,</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="stringliteral">&quot;(pseudo) Channel Islands&quot;</span>:<span class="stringliteral">&quot;L99999999&quot;</span>,</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="stringliteral">&quot;(pseudo) Isle of Man&quot;</span>:<span class="stringliteral">&quot;M99999999&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a69d63b46b6b7c27fe1df03e37bdbbc13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69d63b46b6b7c27fe1df03e37bdbbc13">&#9670;&nbsp;</a></span>vizgeoquery</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.main.apputils.vizgeoquery = vizgeoquery.replace(key.strip(),val.strip())</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deal with the visualisation geo query Once this works it should be turned into a ligthweight datatype class that can be added dynamically and does not have all the search interfaces. </p>
<p class="">Only need to work with markerdata and getquery for col. Remnove params from markerdata </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_7837fde3ab9c1fb2fc5be7b717af8d79.html">python</a></li><li class="navelem"><a class="el" href="dir_dd74335b80cb022fcf672b71d1b6125e.html">webdev</a></li><li class="navelem"><a class="el" href="dir_f1918813e84a80d72398461a91ff76be.html">museumflask</a></li><li class="navelem"><a class="el" href="dir_272850690bbe53c8e5652780667c3a0e.html">app</a></li><li class="navelem"><a class="el" href="dir_50754735bcb486de4c4a4bc0bcae3acc.html">main</a></li><li class="navelem"><a class="el" href="apputils_8py.html">apputils.py</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
